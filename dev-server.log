
> coverimage-generator@0.1.0 dev
> next dev --port 3001 --port 3001

  ▲ Next.js 14.2.32
  - Local:        http://localhost:3001
  - Environments: .env.local

 ✓ Starting...
 ✓ Ready in 20.9s
 ○ Compiling /src/middleware ...
 ✓ Compiled /src/middleware in 2s (142 modules)
[Middleware] Processing request: {
  pathname: '/en',
  hasCode: false,
  hasError: false,
  host: 'localhost:3001'
}
[Middleware] Auth error: Auth session missing!
 ○ Compiling /[locale] ...
 ✓ Compiled /[locale] in 39.3s (1219 modules)
 ✓ Compiled in 3.2s (547 modules)
[Supabase] Initialized with URL: https://exungkcoaihcemcmhqdr.s...
 GET /en 200 in 49126ms
 GET /favicon.ico 200 in 952ms
<w> [webpack.cache.PackFileCacheStrategy] Serializing big strings (108kiB) impacts deserialization performance (consider using Buffer instead and decode when needed)
[Middleware] Processing request: {
  pathname: '/en',
  hasCode: false,
  hasError: false,
  host: 'localhost:3001'
}
[Middleware] Auth error: Auth session missing!
[Server Action] OAuth redirect URL: http://localhost:3001/auth/callback?next=%2Fen
 POST /en 303 in 426ms
[Middleware] Processing request: {
  pathname: '/en',
  hasCode: false,
  hasError: false,
  host: 'localhost:3001'
}
[Middleware] Auth error: Auth session missing!
[Server Action] OAuth redirect URL: http://localhost:3001/auth/callback?next=%2Fen
 POST /en 303 in 400ms
[Middleware] Processing request: {
  pathname: '/auth/callback',
  hasCode: true,
  hasError: false,
  host: 'localhost:3001'
}
[Middleware] OAuth callback detected
[Middleware] Auth error: Auth session missing!
 ○ Compiling /auth/callback ...
 ✓ Compiled /auth/callback in 1185ms (784 modules)
[OAuth Callback Route] Request received: {
  url: 'http://localhost:3001/auth/callback?code=5883a192-2bff-4535-98be-916ef4c2ecc6&next=%2Fen',
  hasCode: true,
  codePrefix: '5883a192',
  next: '/en',
  error: null,
  errorDescription: null,
  headers: { host: 'localhost:3001', userAgent: 'Chrome' }
}
[OAuth Callback Route] Successfully authenticated, redirecting to: /en
[OAuth Callback Route] User session verified: jefflee2002@gmail.com
 GET /auth/callback?code=5883a192-2bff-4535-98be-916ef4c2ecc6&next=%2Fen 307 in 5766ms
[Middleware] Processing request: {
  pathname: '/en',
  hasCode: false,
  hasError: false,
  host: 'localhost:3001'
}
[Middleware] User authenticated: jefflee2002@gmail.com
[Supabase] Initialized with URL: https://exungkcoaihcemcmhqdr.s...
 GET /en 200 in 624ms
[Middleware] Processing request: {
  pathname: '/.well-known/appspecific/com.chrome.devtools.json',
  hasCode: false,
  hasError: false,
  host: 'localhost:3001'
}
[Middleware] User authenticated: jefflee2002@gmail.com
[Middleware] Processing request: {
  pathname: '/api/usage/status',
  hasCode: false,
  hasError: false,
  host: 'localhost:3001'
}
[Middleware] Processing request: {
  pathname: '/api/usage/status',
  hasCode: false,
  hasError: false,
  host: 'localhost:3001'
}
[Middleware] Processing request: {
  pathname: '/api/subscription/status',
  hasCode: false,
  hasError: false,
  host: 'localhost:3001'
}
[Middleware] Processing request: {
  pathname: '/api/usage/status',
  hasCode: false,
  hasError: false,
  host: 'localhost:3001'
}
[Middleware] User authenticated: jefflee2002@gmail.com
 ○ Compiling /_not-found ...
[Middleware] User authenticated: jefflee2002@gmail.com
[Middleware] User authenticated: jefflee2002@gmail.com
[Middleware] User authenticated: jefflee2002@gmail.com
 ✓ Compiled /api/subscription/status in 3.4s (1326 modules)
[Supabase] Initialized with URL: https://exungkcoaihcemcmhqdr.s...
 GET /favicon.ico 200 in 4586ms
 GET /.well-known/appspecific/com.chrome.devtools.json 404 in 4371ms
[Middleware] Processing request: {
  pathname: '/api/subscription/status',
  hasCode: false,
  hasError: false,
  host: 'localhost:3001'
}
[Middleware] Processing request: {
  pathname: '/api/usage/status',
  hasCode: false,
  hasError: false,
  host: 'localhost:3001'
}
[Middleware] User authenticated: jefflee2002@gmail.com
[Middleware] User authenticated: jefflee2002@gmail.com
[Usage Status] Checking for user: jefflee2002@gmail.com 4d1c8dec-3f72-4ac9-8c24-95ae375dbf1a
[checkGenerationLimit] Setting config: {
  trial_days: 3,
  free_daily: 3,
  free_monthly: 10,
  pro_monthly: 120,
  pro_trial_daily: 4,
  pro_plus_monthly: 300,
  pro_plus_trial_daily: 6
}
[Usage Status] Checking for user: jefflee2002@gmail.com 4d1c8dec-3f72-4ac9-8c24-95ae375dbf1a
[checkGenerationLimit] Setting config: {
  trial_days: 3,
  free_daily: 3,
  free_monthly: 10,
  pro_monthly: 120,
  pro_trial_daily: 4,
  pro_plus_monthly: 300,
  pro_plus_trial_daily: 6
}
[Usage Status] Checking for user: jefflee2002@gmail.com 4d1c8dec-3f72-4ac9-8c24-95ae375dbf1a
[checkGenerationLimit] Setting config: {
  trial_days: 3,
  free_daily: 3,
  free_monthly: 10,
  pro_monthly: 120,
  pro_trial_daily: 4,
  pro_plus_monthly: 300,
  pro_plus_trial_daily: 6
}
[checkGenerationLimit] Error setting config: {
  code: 'PGRST202',
  details: 'Searched for the function public.set_subscription_config with parameter p_config or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.',
  hint: null,
  message: 'Could not find the function public.set_subscription_config(p_config) in the schema cache'
}
[checkGenerationLimit] Calling RPC with userId: 4d1c8dec-3f72-4ac9-8c24-95ae375dbf1a
[checkGenerationLimit] Error setting config: {
  code: 'PGRST202',
  details: 'Searched for the function public.set_subscription_config with parameter p_config or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.',
  hint: null,
  message: 'Could not find the function public.set_subscription_config(p_config) in the schema cache'
}
[checkGenerationLimit] Calling RPC with userId: 4d1c8dec-3f72-4ac9-8c24-95ae375dbf1a
[checkGenerationLimit] Error setting config: {
  code: 'PGRST202',
  details: 'Searched for the function public.set_subscription_config with parameter p_config or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.',
  hint: null,
  message: 'Could not find the function public.set_subscription_config(p_config) in the schema cache'
}
[checkGenerationLimit] Calling RPC with userId: 4d1c8dec-3f72-4ac9-8c24-95ae375dbf1a
 GET /api/subscription/status 200 in 5298ms
[Middleware] Processing request: {
  pathname: '/api/subscription/status',
  hasCode: false,
  hasError: false,
  host: 'localhost:3001'
}
[Usage Status] Checking for user: jefflee2002@gmail.com 4d1c8dec-3f72-4ac9-8c24-95ae375dbf1a
[checkGenerationLimit] Setting config: {
  trial_days: 3,
  free_daily: 3,
  free_monthly: 10,
  pro_monthly: 120,
  pro_trial_daily: 4,
  pro_plus_monthly: 300,
  pro_plus_trial_daily: 6
}
[checkGenerationLimit] Limit check result: {
  user_id: '4d1c8dec-3f72-4ac9-8c24-95ae375dbf1a',
  is_trial: false,
  daily_limit: 4,
  daily_usage: 0,
  trial_limit: null,
  trial_usage: 0,
  can_generate: true,
  monthly_limit: 120,
  monthly_usage: 0,
  trial_ends_at: '2025-09-18T03:04:50.051068+00:00',
  remaining_daily: 4,
  remaining_trial: null,
  remaining_monthly: 120,
  subscription_tier: 'pro',
  subscription_status: 'active'
}
[checkGenerationLimit] Subscription tier from DB: pro
[checkGenerationLimit] Is trial from DB: false
[checkGenerationLimit] Trial ends at: 2025-09-18T03:04:50.051068+00:00
[Usage Status] Limit status result: {
  user_id: '4d1c8dec-3f72-4ac9-8c24-95ae375dbf1a',
  is_trial: false,
  daily_limit: 4,
  daily_usage: 0,
  trial_limit: null,
  trial_usage: 0,
  can_generate: true,
  monthly_limit: 120,
  monthly_usage: 0,
  trial_ends_at: '2025-09-18T03:04:50.051068+00:00',
  remaining_daily: 4,
  remaining_trial: null,
  remaining_monthly: 120,
  subscription_tier: 'pro',
  subscription_status: 'active'
}
 GET /api/usage/status 200 in 5608ms
[Middleware] Processing request: {
  pathname: '/api/usage/status',
  hasCode: false,
  hasError: false,
  host: 'localhost:3001'
}
[checkGenerationLimit] Limit check result: {
  user_id: '4d1c8dec-3f72-4ac9-8c24-95ae375dbf1a',
  is_trial: false,
  daily_limit: 4,
  daily_usage: 0,
  trial_limit: null,
  trial_usage: 0,
  can_generate: true,
  monthly_limit: 120,
  monthly_usage: 0,
  trial_ends_at: '2025-09-18T03:04:50.051068+00:00',
  remaining_daily: 4,
  remaining_trial: null,
  remaining_monthly: 120,
  subscription_tier: 'pro',
  subscription_status: 'active'
}
[checkGenerationLimit] Subscription tier from DB: pro
[checkGenerationLimit] Is trial from DB: false
[checkGenerationLimit] Trial ends at: 2025-09-18T03:04:50.051068+00:00
[Usage Status] Limit status result: {
  user_id: '4d1c8dec-3f72-4ac9-8c24-95ae375dbf1a',
  is_trial: false,
  daily_limit: 4,
  daily_usage: 0,
  trial_limit: null,
  trial_usage: 0,
  can_generate: true,
  monthly_limit: 120,
  monthly_usage: 0,
  trial_ends_at: '2025-09-18T03:04:50.051068+00:00',
  remaining_daily: 4,
  remaining_trial: null,
  remaining_monthly: 120,
  subscription_tier: 'pro',
  subscription_status: 'active'
}
 GET /api/usage/status 200 in 6173ms
[checkGenerationLimit] Limit check result: {
  user_id: '4d1c8dec-3f72-4ac9-8c24-95ae375dbf1a',
  is_trial: false,
  daily_limit: 4,
  daily_usage: 0,
  trial_limit: null,
  trial_usage: 0,
  can_generate: true,
  monthly_limit: 120,
  monthly_usage: 0,
  trial_ends_at: '2025-09-18T03:04:50.051068+00:00',
  remaining_daily: 4,
  remaining_trial: null,
  remaining_monthly: 120,
  subscription_tier: 'pro',
  subscription_status: 'active'
}
[checkGenerationLimit] Subscription tier from DB: pro
[checkGenerationLimit] Is trial from DB: false
[checkGenerationLimit] Trial ends at: 2025-09-18T03:04:50.051068+00:00
[Usage Status] Limit status result: {
  user_id: '4d1c8dec-3f72-4ac9-8c24-95ae375dbf1a',
  is_trial: false,
  daily_limit: 4,
  daily_usage: 0,
  trial_limit: null,
  trial_usage: 0,
  can_generate: true,
  monthly_limit: 120,
  monthly_usage: 0,
  trial_ends_at: '2025-09-18T03:04:50.051068+00:00',
  remaining_daily: 4,
  remaining_trial: null,
  remaining_monthly: 120,
  subscription_tier: 'pro',
  subscription_status: 'active'
}
 GET /api/usage/status 200 in 5681ms
[Middleware] Processing request: {
  pathname: '/api/subscription/status',
  hasCode: false,
  hasError: false,
  host: 'localhost:3001'
}
[Middleware] User authenticated: jefflee2002@gmail.com
[Middleware] Processing request: {
  pathname: '/api/usage/status',
  hasCode: false,
  hasError: false,
  host: 'localhost:3001'
}
 GET /api/subscription/status 200 in 1871ms
[checkGenerationLimit] Error setting config: {
  code: 'PGRST202',
  details: 'Searched for the function public.set_subscription_config with parameter p_config or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.',
  hint: null,
  message: 'Could not find the function public.set_subscription_config(p_config) in the schema cache'
}
[checkGenerationLimit] Calling RPC with userId: 4d1c8dec-3f72-4ac9-8c24-95ae375dbf1a
[Middleware] User authenticated: jefflee2002@gmail.com
[Middleware] User authenticated: jefflee2002@gmail.com
[Middleware] User authenticated: jefflee2002@gmail.com
[checkGenerationLimit] Limit check result: {
  user_id: '4d1c8dec-3f72-4ac9-8c24-95ae375dbf1a',
  is_trial: false,
  daily_limit: 4,
  daily_usage: 0,
  trial_limit: null,
  trial_usage: 0,
  can_generate: true,
  monthly_limit: 120,
  monthly_usage: 0,
  trial_ends_at: '2025-09-18T03:04:50.051068+00:00',
  remaining_daily: 4,
  remaining_trial: null,
  remaining_monthly: 120,
  subscription_tier: 'pro',
  subscription_status: 'active'
}
[checkGenerationLimit] Subscription tier from DB: pro
[checkGenerationLimit] Is trial from DB: false
[checkGenerationLimit] Trial ends at: 2025-09-18T03:04:50.051068+00:00
[Usage Status] Limit status result: {
  user_id: '4d1c8dec-3f72-4ac9-8c24-95ae375dbf1a',
  is_trial: false,
  daily_limit: 4,
  daily_usage: 0,
  trial_limit: null,
  trial_usage: 0,
  can_generate: true,
  monthly_limit: 120,
  monthly_usage: 0,
  trial_ends_at: '2025-09-18T03:04:50.051068+00:00',
  remaining_daily: 4,
  remaining_trial: null,
  remaining_monthly: 120,
  subscription_tier: 'pro',
  subscription_status: 'active'
}
 GET /api/usage/status 200 in 2473ms
 GET /api/subscription/status 200 in 1559ms
[Usage Status] Checking for user: jefflee2002@gmail.com 4d1c8dec-3f72-4ac9-8c24-95ae375dbf1a
[checkGenerationLimit] Setting config: {
  trial_days: 3,
  free_daily: 3,
  free_monthly: 10,
  pro_monthly: 120,
  pro_trial_daily: 4,
  pro_plus_monthly: 300,
  pro_plus_trial_daily: 6
}
[Usage Status] Checking for user: jefflee2002@gmail.com 4d1c8dec-3f72-4ac9-8c24-95ae375dbf1a
[checkGenerationLimit] Setting config: {
  trial_days: 3,
  free_daily: 3,
  free_monthly: 10,
  pro_monthly: 120,
  pro_trial_daily: 4,
  pro_plus_monthly: 300,
  pro_plus_trial_daily: 6
}
[checkGenerationLimit] Error setting config: {
  code: 'PGRST202',
  details: 'Searched for the function public.set_subscription_config with parameter p_config or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.',
  hint: null,
  message: 'Could not find the function public.set_subscription_config(p_config) in the schema cache'
}
[checkGenerationLimit] Calling RPC with userId: 4d1c8dec-3f72-4ac9-8c24-95ae375dbf1a
 GET /api/subscription/status 200 in 1595ms
[checkGenerationLimit] Error setting config: {
  code: 'PGRST202',
  details: 'Searched for the function public.set_subscription_config with parameter p_config or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.',
  hint: null,
  message: 'Could not find the function public.set_subscription_config(p_config) in the schema cache'
}
[checkGenerationLimit] Calling RPC with userId: 4d1c8dec-3f72-4ac9-8c24-95ae375dbf1a
[checkGenerationLimit] Limit check result: {
  user_id: '4d1c8dec-3f72-4ac9-8c24-95ae375dbf1a',
  is_trial: false,
  daily_limit: 4,
  daily_usage: 0,
  trial_limit: null,
  trial_usage: 0,
  can_generate: true,
  monthly_limit: 120,
  monthly_usage: 0,
  trial_ends_at: '2025-09-18T03:04:50.051068+00:00',
  remaining_daily: 4,
  remaining_trial: null,
  remaining_monthly: 120,
  subscription_tier: 'pro',
  subscription_status: 'active'
}
[checkGenerationLimit] Subscription tier from DB: pro
[checkGenerationLimit] Is trial from DB: false
[checkGenerationLimit] Trial ends at: 2025-09-18T03:04:50.051068+00:00
[Usage Status] Limit status result: {
  user_id: '4d1c8dec-3f72-4ac9-8c24-95ae375dbf1a',
  is_trial: false,
  daily_limit: 4,
  daily_usage: 0,
  trial_limit: null,
  trial_usage: 0,
  can_generate: true,
  monthly_limit: 120,
  monthly_usage: 0,
  trial_ends_at: '2025-09-18T03:04:50.051068+00:00',
  remaining_daily: 4,
  remaining_trial: null,
  remaining_monthly: 120,
  subscription_tier: 'pro',
  subscription_status: 'active'
}
 GET /api/usage/status 200 in 1821ms
[checkGenerationLimit] Limit check result: {
  user_id: '4d1c8dec-3f72-4ac9-8c24-95ae375dbf1a',
  is_trial: false,
  daily_limit: 4,
  daily_usage: 0,
  trial_limit: null,
  trial_usage: 0,
  can_generate: true,
  monthly_limit: 120,
  monthly_usage: 0,
  trial_ends_at: '2025-09-18T03:04:50.051068+00:00',
  remaining_daily: 4,
  remaining_trial: null,
  remaining_monthly: 120,
  subscription_tier: 'pro',
  subscription_status: 'active'
}
[checkGenerationLimit] Subscription tier from DB: pro
[checkGenerationLimit] Is trial from DB: false
[checkGenerationLimit] Trial ends at: 2025-09-18T03:04:50.051068+00:00
[Usage Status] Limit status result: {
  user_id: '4d1c8dec-3f72-4ac9-8c24-95ae375dbf1a',
  is_trial: false,
  daily_limit: 4,
  daily_usage: 0,
  trial_limit: null,
  trial_usage: 0,
  can_generate: true,
  monthly_limit: 120,
  monthly_usage: 0,
  trial_ends_at: '2025-09-18T03:04:50.051068+00:00',
  remaining_daily: 4,
  remaining_trial: null,
  remaining_monthly: 120,
  subscription_tier: 'pro',
  subscription_status: 'active'
}
 GET /api/usage/status 200 in 2122ms
[Middleware] Processing request: {
  pathname: '/.well-known/appspecific/com.chrome.devtools.json',
  hasCode: false,
  hasError: false,
  host: 'localhost:3001'
}
[Middleware] User authenticated: jefflee2002@gmail.com
 GET /.well-known/appspecific/com.chrome.devtools.json 404 in 90ms
[Middleware] Processing request: {
  pathname: '/api/subscription/status',
  hasCode: false,
  hasError: false,
  host: 'localhost:3001'
}
[Middleware] Processing request: {
  pathname: '/api/usage/status',
  hasCode: false,
  hasError: false,
  host: 'localhost:3001'
}
[Middleware] User authenticated: jefflee2002@gmail.com
[Middleware] User authenticated: jefflee2002@gmail.com
[Usage Status] Checking for user: jefflee2002@gmail.com 4d1c8dec-3f72-4ac9-8c24-95ae375dbf1a
[checkGenerationLimit] Setting config: {
  trial_days: 3,
  free_daily: 3,
  free_monthly: 10,
  pro_monthly: 120,
  pro_trial_daily: 4,
  pro_plus_monthly: 300,
  pro_plus_trial_daily: 6
}
[checkGenerationLimit] Error setting config: {
  code: 'PGRST202',
  details: 'Searched for the function public.set_subscription_config with parameter p_config or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.',
  hint: null,
  message: 'Could not find the function public.set_subscription_config(p_config) in the schema cache'
}
[checkGenerationLimit] Calling RPC with userId: 4d1c8dec-3f72-4ac9-8c24-95ae375dbf1a
 GET /api/subscription/status 200 in 1832ms
[Middleware] Processing request: {
  pathname: '/api/subscription/status',
  hasCode: false,
  hasError: false,
  host: 'localhost:3001'
}
[checkGenerationLimit] Limit check result: {
  user_id: '4d1c8dec-3f72-4ac9-8c24-95ae375dbf1a',
  is_trial: false,
  daily_limit: 4,
  daily_usage: 0,
  trial_limit: null,
  trial_usage: 0,
  can_generate: true,
  monthly_limit: 120,
  monthly_usage: 0,
  trial_ends_at: '2025-09-18T03:04:50.051068+00:00',
  remaining_daily: 4,
  remaining_trial: null,
  remaining_monthly: 120,
  subscription_tier: 'pro',
  subscription_status: 'active'
}
[checkGenerationLimit] Subscription tier from DB: pro
[checkGenerationLimit] Is trial from DB: false
[checkGenerationLimit] Trial ends at: 2025-09-18T03:04:50.051068+00:00
[Usage Status] Limit status result: {
  user_id: '4d1c8dec-3f72-4ac9-8c24-95ae375dbf1a',
  is_trial: false,
  daily_limit: 4,
  daily_usage: 0,
  trial_limit: null,
  trial_usage: 0,
  can_generate: true,
  monthly_limit: 120,
  monthly_usage: 0,
  trial_ends_at: '2025-09-18T03:04:50.051068+00:00',
  remaining_daily: 4,
  remaining_trial: null,
  remaining_monthly: 120,
  subscription_tier: 'pro',
  subscription_status: 'active'
}
 GET /api/usage/status 200 in 2220ms
[Middleware] Processing request: {
  pathname: '/api/usage/status',
  hasCode: false,
  hasError: false,
  host: 'localhost:3001'
}
[Middleware] User authenticated: jefflee2002@gmail.com
[Middleware] User authenticated: jefflee2002@gmail.com
[Middleware] Processing request: {
  pathname: '/en',
  hasCode: false,
  hasError: false,
  host: 'localhost:3001'
}
[Middleware] User authenticated: jefflee2002@gmail.com
 GET /en 200 in 472ms
