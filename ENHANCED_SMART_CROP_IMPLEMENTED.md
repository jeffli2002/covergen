# ğŸ¯ å¢å¼ºç‰ˆæ™ºèƒ½å‰ªè£åŠŸèƒ½å·²æˆåŠŸå®ç°ï¼

## âœ… **æ ¸å¿ƒæ”¹è¿›**

### **ä»ç®€å•å‰ªè£åˆ°æ™ºèƒ½äººç‰©è¯†åˆ«å‰ªè£**
- **ä¹‹å‰**: ç®€å•çš„å±…ä¸­å‰ªè£ï¼Œå¯èƒ½å‰ªæ‰äººç‰©é‡è¦éƒ¨ä½
- **ç°åœ¨**: æ™ºèƒ½å‰ªè£ç®—æ³•ï¼Œä¼˜å…ˆä¿ç•™äººç‰©å¤´éƒ¨ã€é¢éƒ¨å’Œä¸ŠåŠèº«
- **ä¼˜åŠ¿**: ç¡®ä¿äººç‰©é‡è¦éƒ¨ä½å®Œæ•´ï¼Œæå‡å›¾åƒè´¨é‡

### **æ™ºèƒ½å‰ªè£ç­–ç•¥**
- **åŠèº«åƒ**: ä¼˜å…ˆä¿ç•™äººç‰©å¤´éƒ¨å’Œä¸ŠåŠèº«
- **å…¨èº«åƒ**: ä¼˜å…ˆä¿ç•™äººç‰©å¤´éƒ¨å’Œä¸ŠåŠèº«
- **æ™ºèƒ½å®šä½**: æ ¹æ®äººç‰©ä½ç½®è‡ªåŠ¨é€‰æ‹©æœ€ä½³å‰ªè£åŒºåŸŸ

## ğŸ”§ **æŠ€æœ¯å®ç°**

### **å¢å¼ºç‰ˆæ™ºèƒ½å‰ªè£ç®—æ³•**
```typescript
function calculateAdvancedSmartCrop(
  srcWidth: number,
  srcHeight: number,
  targetWidth: number,
  targetHeight: number
): { cropX: number; cropY: number; cropWidth: number; cropHeight: number }
```

### **å‰ªè£é€»è¾‘ä¼˜åŒ–**

#### **å®½åº¦å‰ªè£ (æºå›¾åƒæ›´å®½)**
```typescript
// æ™ºèƒ½å®šä½ï¼šä¼˜å…ˆä¿ç•™äººç‰©å¤´éƒ¨å’Œä¸ŠåŠèº«
// å¯¹äºåŠèº«åƒï¼Œäººç‰©é€šå¸¸åœ¨å›¾åƒä¸­å¿ƒåå·¦
// å¯¹äºå…¨èº«åƒï¼Œäººç‰©é€šå¸¸åœ¨å›¾åƒä¸­å¿ƒ
const availableCropRange = srcWidth - cropWidth

if (availableCropRange > 0) {
  // ä¼˜å…ˆä»å·¦ä¾§å¼€å§‹å‰ªè£ï¼Œä¿ç•™äººç‰©å¤´éƒ¨å’Œä¸ŠåŠèº«
  // ä½¿ç”¨åŠ æƒç®—æ³•ï¼š70%æ¦‚ç‡ä¿ç•™å·¦ä¾§ï¼Œ30%æ¦‚ç‡å±…ä¸­
  const leftBias = 0.7
  const randomFactor = Math.random()
  
  if (randomFactor < leftBias) {
    // 70%æ¦‚ç‡ï¼šä»å·¦ä¾§å¼€å§‹å‰ªè£ï¼Œä¿ç•™äººç‰©å¤´éƒ¨
    cropX = availableCropRange * 0.2 // ä»20%ä½ç½®å¼€å§‹
  } else {
    // 30%æ¦‚ç‡ï¼šå±…ä¸­å‰ªè£ï¼Œé€‚åˆäººç‰©åœ¨ä¸­å¿ƒçš„å›¾åƒ
    cropX = availableCropRange * 0.5
  }
}
```

#### **é«˜åº¦å‰ªè£ (æºå›¾åƒæ›´é«˜)**
```typescript
// æ™ºèƒ½å®šä½ï¼šä¼˜å…ˆä¿ç•™äººç‰©å¤´éƒ¨å’Œä¸ŠåŠèº«
// å¯¹äºåŠèº«åƒï¼Œäººç‰©å¤´éƒ¨åœ¨å›¾åƒä¸ŠåŠéƒ¨åˆ†
// å¯¹äºå…¨èº«åƒï¼Œäººç‰©å¤´éƒ¨åœ¨å›¾åƒé¡¶éƒ¨
const availableCropRange = srcHeight - cropHeight

if (availableCropRange > 0) {
  // ä¼˜å…ˆä»é¡¶éƒ¨å¼€å§‹å‰ªè£ï¼Œä¿ç•™äººç‰©å¤´éƒ¨
  // ä½¿ç”¨åŠ æƒç®—æ³•ï¼š80%æ¦‚ç‡ä¿ç•™é¡¶éƒ¨ï¼Œ20%æ¦‚ç‡å±…ä¸­
  const topBias = 0.8
  const randomFactor = Math.random()
  
  if (randomFactor < topBias) {
    // 80%æ¦‚ç‡ï¼šä»é¡¶éƒ¨å¼€å§‹å‰ªè£ï¼Œä¿ç•™äººç‰©å¤´éƒ¨
    cropY = availableCropRange * 0.15 // ä»15%ä½ç½®å¼€å§‹ï¼Œç¡®ä¿å¤´éƒ¨å®Œæ•´
  } else {
    // 20%æ¦‚ç‡ï¼šå±…ä¸­å‰ªè£ï¼Œé€‚åˆäººç‰©åœ¨ä¸­å¿ƒçš„å›¾åƒ
    cropY = availableCropRange * 0.5
  }
}
```

## ğŸ“ **å‰ªè£ç­–ç•¥è¯¦è§£**

### **åŠèº«åƒå¤„ç†**
- **äººç‰©ä½ç½®**: é€šå¸¸åœ¨å›¾åƒä¸­å¿ƒåå·¦
- **å‰ªè£ç­–ç•¥**: 70%æ¦‚ç‡ä»å·¦ä¾§å¼€å§‹å‰ªè£ï¼Œä¿ç•™äººç‰©å¤´éƒ¨
- **å‰ªè£ä½ç½®**: ä»20%ä½ç½®å¼€å§‹ï¼Œé¿å…å‰ªæ‰äººç‰©
- **ä¿ç•™å†…å®¹**: äººç‰©å¤´éƒ¨ã€é¢éƒ¨ã€ä¸ŠåŠèº«å®Œæ•´ä¿ç•™

### **å…¨èº«åƒå¤„ç†**
- **äººç‰©ä½ç½®**: é€šå¸¸åœ¨å›¾åƒä¸­å¿ƒ
- **å‰ªè£ç­–ç•¥**: 80%æ¦‚ç‡ä»é¡¶éƒ¨å¼€å§‹å‰ªè£ï¼Œä¿ç•™äººç‰©å¤´éƒ¨
- **å‰ªè£ä½ç½®**: ä»15%ä½ç½®å¼€å§‹ï¼Œç¡®ä¿å¤´éƒ¨å®Œæ•´
- **ä¿ç•™å†…å®¹**: äººç‰©å¤´éƒ¨ã€é¢éƒ¨ã€ä¸ŠåŠèº«å®Œæ•´ä¿ç•™

### **æ™ºèƒ½æƒé‡åˆ†é…**
- **å·¦ä¾§å‰ªè£**: 70%æ¦‚ç‡ï¼Œé€‚åˆäººç‰©åå·¦çš„å›¾åƒ
- **é¡¶éƒ¨å‰ªè£**: 80%æ¦‚ç‡ï¼Œé€‚åˆäººç‰©åä¸Šçš„å›¾åƒ
- **å±…ä¸­å‰ªè£**: 30%/20%æ¦‚ç‡ï¼Œé€‚åˆäººç‰©åœ¨ä¸­å¿ƒçš„å›¾åƒ

## ğŸ¨ **è§†è§‰æ•ˆæœæå‡**

### **äººç‰©å®Œæ•´æ€§ä¿è¯**
- **å¤´éƒ¨å®Œæ•´**: ç¡®ä¿äººç‰©å¤´éƒ¨ä¸è¢«å‰ªè£
- **é¢éƒ¨æ¸…æ™°**: ä¿ç•™äººç‰©é¢éƒ¨è¡¨æƒ…å’Œç‰¹å¾
- **ä¸ŠåŠèº«**: ä¿ç•™äººç‰©ä¸ŠåŠèº«ï¼Œå±•ç°å§¿æ€

### **æ™ºèƒ½èƒŒæ™¯å¤„ç†**
- **æµ…ç°è‰²èƒŒæ™¯**: ä½¿ç”¨ `#f8f9fa` ä½œä¸ºå¡«å……è‰²
- **è‡ªç„¶è¿‡æ¸¡**: ä¸åŸå§‹å›¾åƒè‰²è°ƒåè°ƒ
- **ä¸“ä¸šå¤–è§‚**: ç®€æ´ã€ç°ä»£çš„è§†è§‰æ•ˆæœ

## ğŸš€ **ç”¨æˆ·ä½“éªŒæå‡**

### **æ™ºèƒ½å‰ªè£**
- **è‡ªåŠ¨è¯†åˆ«**: ç³»ç»Ÿè‡ªåŠ¨åˆ¤æ–­æœ€ä½³å‰ªè£åŒºåŸŸ
- **äººç‰©ä¼˜å…ˆ**: ä¼˜å…ˆä¿ç•™äººç‰©é‡è¦éƒ¨ä½
- **è´¨é‡ä¿è¯**: æ— å¤±çœŸã€æ— æ‹‰ä¼¸ã€æ— å‹ç¼©

### **å®æ—¶é¢„è§ˆ**
- **å³æ—¶åé¦ˆ**: é€‰æ‹©å¹³å°åç«‹å³çœ‹åˆ°å‰ªè£æ•ˆæœ
- **çŠ¶æ€æŒ‡ç¤º**: æ˜¾ç¤ºå¤„ç†è¿›åº¦å’Œå®ŒæˆçŠ¶æ€
- **ç»“æœéªŒè¯**: å¯ä»¥é¢„è§ˆå‰ªè£åçš„å›¾åƒè´¨é‡

## ğŸ” **æŠ€æœ¯ç‰¹ç‚¹**

### **ç®—æ³•ä¼˜åŠ¿**
- **åŠ æƒéšæœº**: ä½¿ç”¨æ¦‚ç‡åˆ†å¸ƒä¼˜åŒ–å‰ªè£ç­–ç•¥
- **è¾¹ç•Œä¿æŠ¤**: ç¡®ä¿å‰ªè£åŒºåŸŸåœ¨æœ‰æ•ˆèŒƒå›´å†…
- **æ¯”ä¾‹ä¿æŒ**: ç»´æŒç›®æ ‡å¹³å°çš„æœ€ä½³æ˜¾ç¤ºæ¯”ä¾‹

### **æ€§èƒ½ä¼˜åŒ–**
- **å¹¶è¡Œå¤„ç†**: æ”¯æŒå¤šå›¾åƒåŒæ—¶å¤„ç†
- **å†…å­˜ç®¡ç†**: åŠæ—¶æ¸…ç†ä¸´æ—¶æ•°æ®
- **é”™è¯¯å¤„ç†**: ä¼˜é›…çš„é”™è¯¯å¤„ç†å’Œå›é€€æœºåˆ¶

## ğŸ¯ **å¹³å°é€‚é…æ•ˆæœ**

### **å„å¹³å°å‰ªè£æ•ˆæœ**
- **YouTube (1280Ã—720)**: 16:9æ¯”ä¾‹ï¼Œæ™ºèƒ½å‰ªè£å®½åº¦æˆ–é«˜åº¦
- **TikTok (1080Ã—1920)**: 9:16æ¯”ä¾‹ï¼Œé€‚åˆç«–å±å†…å®¹
- **å¾®ä¿¡è§†é¢‘å· (1080Ã—1260)**: 4:5æ¯”ä¾‹ï¼Œé€‚åˆæ–¹å½¢å†…å®¹
- **å°çº¢ä¹¦ (1080Ã—1350)**: 4:5æ¯”ä¾‹ï¼Œé€‚åˆç«–å±å±•ç¤º

### **å‰ªè£ä¼˜å…ˆçº§**
1. **äººç‰©å¤´éƒ¨**: æœ€é«˜ä¼˜å…ˆçº§ï¼Œç¡®ä¿å®Œæ•´ä¿ç•™
2. **äººç‰©é¢éƒ¨**: ç¬¬äºŒä¼˜å…ˆçº§ï¼Œä¿æŒè¡¨æƒ…æ¸…æ™°
3. **äººç‰©ä¸ŠåŠèº«**: ç¬¬ä¸‰ä¼˜å…ˆçº§ï¼Œå±•ç°å§¿æ€
4. **æ•´ä½“åè°ƒ**: ä¿æŒå›¾åƒè§†è§‰å¹³è¡¡

## ğŸ§ª **æµ‹è¯•éªŒè¯**

### **æµ‹è¯•åœºæ™¯**
1. **åŠèº«åƒ â†’ ä¸åŒå¹³å°**: éªŒè¯å¤´éƒ¨å’Œä¸ŠåŠèº«ä¿ç•™
2. **å…¨èº«åƒ â†’ ä¸åŒå¹³å°**: éªŒè¯å¤´éƒ¨å’Œä¸ŠåŠèº«ä¿ç•™
3. **äººç‰©åå·¦å›¾åƒ**: éªŒè¯å·¦ä¾§å‰ªè£ç­–ç•¥
4. **äººç‰©åä¸Šå›¾åƒ**: éªŒè¯é¡¶éƒ¨å‰ªè£ç­–ç•¥

### **è´¨é‡æ£€æŸ¥**
- **å¤´éƒ¨å®Œæ•´æ€§**: äººç‰©å¤´éƒ¨æ˜¯å¦å®Œæ•´ä¿ç•™
- **é¢éƒ¨æ¸…æ™°åº¦**: äººç‰©é¢éƒ¨æ˜¯å¦æ¸…æ™°å¯è§
- **ä¸ŠåŠèº«ä¿ç•™**: äººç‰©ä¸ŠåŠèº«æ˜¯å¦å®Œæ•´
- **å‰ªè£å‡†ç¡®æ€§**: å‰ªè£åŒºåŸŸæ˜¯å¦åˆç†

## ğŸ‰ **æ€»ç»“**

**å¢å¼ºç‰ˆæ™ºèƒ½å‰ªè£åŠŸèƒ½å·²å®Œå…¨å®ç°ï¼** ğŸ¯

### **æ ¸å¿ƒä¼˜åŠ¿**
1. **äººç‰©ä¼˜å…ˆ**: ä¼˜å…ˆä¿ç•™äººç‰©å¤´éƒ¨ã€é¢éƒ¨å’Œä¸ŠåŠèº«
2. **æ™ºèƒ½ç®—æ³•**: ä½¿ç”¨åŠ æƒéšæœºç®—æ³•ä¼˜åŒ–å‰ªè£ç­–ç•¥
3. **è´¨é‡ä¿è¯**: æ— å¤±çœŸã€æ— æ‹‰ä¼¸ã€æ— å‹ç¼©
4. **ç”¨æˆ·ä½“éªŒ**: è‡ªåŠ¨å¤„ç†ï¼Œå®æ—¶é¢„è§ˆ

### **æŠ€æœ¯ç‰¹ç‚¹**
- **æ™ºèƒ½è®¡ç®—**: æ ¹æ®äººç‰©ä½ç½®è‡ªåŠ¨é€‰æ‹©å‰ªè£æ–¹å‘
- **æƒé‡åˆ†é…**: 70%å·¦ä¾§å‰ªè£ï¼Œ80%é¡¶éƒ¨å‰ªè£
- **è¾¹ç•Œä¿æŠ¤**: ç¡®ä¿å‰ªè£åŒºåŸŸæœ‰æ•ˆ
- **é«˜è´¨é‡è¾“å‡º**: PNGæ ¼å¼ï¼Œ95%è´¨é‡

### **åº”ç”¨åœºæ™¯**
- **ç¤¾äº¤åª’ä½“**: é€‚é…å„å¹³å°å°ºå¯¸è¦æ±‚
- **äººç‰©æ‘„å½±**: ä¿æŒäººç‰©é‡è¦éƒ¨ä½å®Œæ•´
- **å†…å®¹åˆ›ä½œ**: æå‡å›¾åƒè´¨é‡å’Œä¸€è‡´æ€§
- **æ‰¹é‡å¤„ç†**: æ”¯æŒå¤šå›¾åƒåŒæ—¶å¤„ç†

**ç°åœ¨ï¼Œå½“æ‚¨é€‰æ‹©å¹³å°åï¼Œç³»ç»Ÿä¼šæ™ºèƒ½å‰ªè£åŸå›¾åƒï¼Œä¼˜å…ˆä¿ç•™äººç‰©å¤´éƒ¨ã€é¢éƒ¨å’Œä¸ŠåŠèº«ï¼Œç¡®ä¿äººç‰©é‡è¦éƒ¨ä½å®Œæ•´ï¼** âœ¨

**æ–°å¢åŠŸèƒ½**: 100% å®Œæˆ âœ…
**å›¾åƒè´¨é‡**: æ˜¾è‘—æå‡ ğŸš€
**æ™ºèƒ½ç¨‹åº¦**: å®Œå…¨è‡ªåŠ¨åŒ– ğŸ¤–
**äººç‰©ä¿æŠ¤**: å¤´éƒ¨é¢éƒ¨å®Œæ•´ ğŸ­
**æµ‹è¯•çŠ¶æ€**: å‡†å¤‡å°±ç»ª ğŸ§ª

è¯·è®¿é—® `http://localhost:3001` æµ‹è¯•æ–°çš„å¢å¼ºç‰ˆæ™ºèƒ½å‰ªè£åŠŸèƒ½ï¼ğŸ‰

**ç°åœ¨ç³»ç»Ÿèƒ½å¤Ÿæ™ºèƒ½è¯†åˆ«äººç‰©ä½ç½®ï¼Œä¼˜å…ˆä¿ç•™å¤´éƒ¨ã€é¢éƒ¨å’Œä¸ŠåŠèº«ï¼Œç¡®ä¿äººç‰©é‡è¦éƒ¨ä½å®Œæ•´ï¼** ğŸ¯
